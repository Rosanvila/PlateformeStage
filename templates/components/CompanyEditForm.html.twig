<div {{ attributes.defaults(stimulus_controller('picture_preview')) }}>
    <div class="card">
        <div class="card-header">
            <h3>Informations</h3>
        </div>
        <div class="card-body">
            {{ form_errors(form) }}

            {{ form_start(form, {
                form: form ,
                attr: {
                    'data-action': 'live#action:prevent',
                    'data-live-action-param': 'save'
                }
            }) }}
            <div class="row">
                <div class="col-12 col-md-6 col-lg-4 form-group my-3">
                    <div class="form-floating mb-3">
                        {{ form_widget(form.businessAddress.businessAddressField) }}
                        {{ form_label(form.businessAddress.businessAddressField) }}
                        {{ form_errors(form.businessAddress.businessAddressField) }}
                        {{ form_help(form.businessAddress.businessAddressField) }}
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 form-group my-3">
                    <div class="d-flex flex-column form-floating mb-3">
                        {{ form_widget(form.name.companyField) }}
                        {{ form_label(form.name.companyField) }}
                        {{ form_errors(form.name.companyField) }}
                        {{ form_help(form.name.companyField) }}
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 d-flex justify-content-center my-3" style="max-height: 5.5rem;">
                    <img class="form-control img-fluid" style="max-width: 30%; padding: 0;" src="" alt=""
                         id="picturePreview">
                    {{ form_widget(form.picture,{'attr': {'class': 'd-none'}}) }}
                    {{ form_label(form.picture, null, {'label_attr': {'style': 'height: 100%', 'class': 'input-group-text ms-1'}}) }}
                    {{ form_errors(form.picture) }}
                    {# {{ form_help(form.picture) }} #}
                </div>
                    {% if photoUploadError %}
                        <div class="gx-1 d-flex col col-md-6 col-lg-4 offset-lg-8 align-self-lg-end">
                            <div class="invalid-feedback d-flex justify-content-lg-end">{{ photoUploadError }}</div>
                        </div>
                    {% endif %}
            </div>
            <div class="row">
                <div class="col-md-3 col-lg-2 form-group my-3">
                    <div class="d-flex flex-column form-floating">
                        {{ form_widget(form.postalCode.postalCodeField) }}
                        {{ form_label(form.postalCode.postalCodeField) }}
                        {{ form_errors(form.postalCode.postalCodeField) }}
                        {{ form_help(form.postalCode.postalCodeField) }}
                    </div>
                </div>
                <div class="col-md-3 col-lg-2 form-group my-3">
                    <div class="d-flex flex-column form-floating">
                        {{ form_widget(form.city.cityField) }}
                        {{ form_label(form.city.cityField) }}
                        {{ form_errors(form.city.cityField) }}
                        {{ form_help(form.city.cityField) }}
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 form-group my-3">
                    <div class="d-flex flex-column form-floating">
                        {{ form_widget(form.about) }}
                        {{ form_label(form.about) }}
                        {{ form_errors(form.about) }}
                        {{ form_help(form.about) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        {{ form_row(form.save) }}
        {{ form_end(form) }}
    </div>
</div>